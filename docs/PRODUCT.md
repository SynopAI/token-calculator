# LLM Token计算器 - 产品文档

## 1. 产品概述

LLM Token计算器是一款专业工具，用于准确计算和可视化大型语言模型(LLM)的token消耗及相关成本。本工具旨在帮助AI开发者、产品经理和LLM使用者更有效地规划和管理API调用预算。

## 2. 产品定位与背景

### 2.1 背景

随着ChatGPT、Claude和其它大语言模型的广泛应用，精确计算API调用成本成为开发者的迫切需求。不同模型采用不同的token计算方式和计费标准，增加了成本预估的复杂性。

### 2.2 目标用户

- AI应用开发者
- 产品经理和项目管理人员
- 数据科学家和研究人员
- API服务使用者和管理者
- 教育工作者和学生

### 2.3 产品愿景

我们希望通过本工具，降低大语言模型使用者的入门门槛，提高成本透明度，并帮助用户更有效地规划和优化他们的AI模型使用策略。

## 3. 核心功能

### 3.1 Token计算与成本估算

- **文本分析**：精确计算输入文本的token数量
- **多模型支持**：支持主流LLM模型的token计算规则
- **成本估算**：根据当前价格自动计算美元及人民币成本
- **实时更新**：输入时即时计算结果

### 3.2 Token可视化

- **Token拆分展示**：直观显示文本如何被拆分为tokens
- **特殊字符高亮**：突出显示特殊字符和非ASCII字符的token拆分
- **Token详情**：悬停或点击查看每个token的详细信息
- **交互式界面**：支持缩放、滚动和动态更新

### 3.3 高级功能

- **价格自定义**：支持调整价格以应对模型计费变动
- **汇率设置**：自定义美元与人民币间的汇率
- **主题切换**：支持深色和浅色主题，满足不同使用场景

## 4. 用户界面说明

### 4.1 整体布局

应用采用单页面设计，包含以下主要区域：

- **顶部导航栏**：展示应用名称和主题切换按钮
- **输入区域**：包含文本输入框和文件导入功能
- **模型选择区**：用于选择不同的语言模型
- **结果显示区**：展示计算结果和可视化内容
- **高级选项区**：包含价格和汇率自定义设置

### 4.2 交互流程

1. 用户输入或导入文本
2. 选择要计算的语言模型
3. 应用实时计算并显示token数量和估算成本
4. 用户可查看token可视化结果，了解文本如何被拆分
5. 可选择调整高级设置，查看不同计费标准下的结果

## 5. 适用场景

### 5.1 开发预算规划

在开发AI应用前，快速评估不同模型的成本差异，做出合理的技术选型决策。

### 5.2 内容优化

分析现有提示词(Prompts)的token使用情况，优化文本以减少不必要的token消耗。

### 5.3 教育培训

帮助新手开发者和学生理解token的概念，学习不同文本的token拆分规则。

### 5.4 成本监控

为运营中的AI应用估算API调用成本，进行预算监控和成本控制。

## 6. 使用指南

### 6.1 基础使用流程

1. **输入文本**：在输入框中粘贴或输入文本，或使用"导入文件"按钮导入文本文件
2. **选择模型**：从模型选择区选择要计算的语言模型
3. **查看结果**：在结果显示区查看token数量和估算成本
4. **探索tokens**：在可视化区域查看token拆分，悬停或点击查看详情

### 6.2 高级功能使用

1. **自定义价格**：展开高级选项，输入自定义的输入/输出token价格
2. **调整汇率**：在高级选项中设置USD至CNY的最新汇率
3. **切换主题**：点击右上角的主题切换按钮，在深色和浅色主题间切换

## 7. 常见问题

### 7.1 不同模型的计算结果为什么会不同？

不同的LLM模型使用不同的tokenizer算法，例如GPT系列使用tiktoken，Claude使用自己的tokenizer。这导致同一文本在不同模型下的token数量会有所不同。

### 7.2 token计算是否与API完全一致？

本应用尽可能接近官方tokenizer的计算方式，但由于某些模型的tokenizer未公开或难以在浏览器环境运行，可能存在细微差异。对于精确计费，建议以服务提供商的官方计算为准。

### 7.3 支持哪些文件格式导入？

目前支持导入.txt、.md和.json文本文件。

### 7.4 如何处理大量文本？

应用经过优化，可处理较大文本，但对于极大量文本(超过10万字符)，可能会出现性能延迟。建议分批处理极大文本。

## 8. 未来规划

- **批量处理**：支持多个文本文件的批量计算和比较
- **导出功能**：支持将计算结果和可视化导出为CSV、JSON或图像
- **API集成**：与各LLM服务提供商API直接集成，获取精确计算
- **历史记录**：保存和管理历史计算记录
- **更多模型**：支持更多新兴LLM模型的token计算

## 9. 联系与支持

如有问题、建议或反馈，请通过以下方式联系我们：

- GitHub Issue: [https://github.com/synopai/token-calculator/issues](https://github.com/synopai/token-calculator/issues/issues)
- Email: [snychng@gmail.com](mailto:snychng@gmail.com)

---

© 2024 LLM Token计算器 | 版本 1.0.0
